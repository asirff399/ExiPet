<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Navbar -->
  <div id="navbar"></div>
  <!-- Slide Bar -->
  <!-- <div class="fixed right-20 mt-5 font-[sans-serif] w-max mx-auto z-40">
      <button type="button" id="dropdownToggle"
        class="px-4 py-2 flex items-center rounded-full text-[#333] text-sm border border-gray-300 outline-none hover:bg-gray-100">
        <img id="profile-img" src="" class="w-7 h-7 mr-3 rounded-full shrink-0"></img>
        <p id="profile-username"></p>
        <svg xmlns="http://www.w3.org/2000/svg" class="w-3 fill-gray-400 inline ml-3" viewBox="0 0 24 24">
          <path fill-rule="evenodd"
            d="M11.99997 18.1669a2.38 2.38 0 0 1-1.68266-.69733l-9.52-9.52a2.38 2.38 0 1 1 3.36532-3.36532l7.83734 7.83734 7.83734-7.83734a2.38 2.38 0 1 1 3.36532 3.36532l-9.52 9.52a2.38 2.38 0 0 1-1.68266.69734z"
            clip-rule="evenodd" data-original="#000000" />
        </svg>
      </button>

      <ul id="dropdownMenu" class='absolute block shadow-lg bg-white py-2 z-[1000] min-w-full w-max rounded-lg max-h-96 overflow-auto'>
        <li class='py-2.5 px-5 flex items-center hover:bg-gray-100 text-[#333] text-sm cursor-pointer'>
            <p data-modal-target="deposit-modal" data-modal-toggle="deposit-modal" type="button">
                Deposit
            </p>
        </li>
        <li class='py-2.5 px-5 flex items-center hover:bg-gray-100 text-[#333] text-sm cursor-pointer'>
            <p data-modal-target="withdraw-modal" data-modal-toggle="withdraw-modal" type="button">
                Withdraw
            </p>
        </li>
        <li class='py-2.5 px-5 flex items-center hover:bg-gray-100 text-[#333] text-sm cursor-pointer'>
           <a href="./addpost.html">Add Pet</a>
        </li>
        <li class='py-2.5 px-5 flex items-center hover:bg-gray-100 text-[#333] text-sm cursor-pointer'>
          <p data-modal-target="pass-change-modal" data-modal-toggle="pass-change-modal" type="button">
            Change Password
          </p>
        </li>
        <li class='py-2.5 px-5 flex items-center hover:bg-gray-100 text-[#333] text-sm cursor-pointer'>
          <a href="./dashboard.html">Adoption History</a>
        </li>
        <li onclick="handleLogout()" class='py-2.5 px-5 flex items-center hover:bg-gray-100 text-[#333] text-sm cursor-pointer'>
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-4 h-4 mr-3"
            viewBox="0 0 6.35 6.35">
            <path
              d="M3.172.53a.265.266 0 0 0-.262.268v2.127a.265.266 0 0 0 .53 0V.798A.265.266 0 0 0 3.172.53zm1.544.532a.265.266 0 0 0-.026 0 .265.266 0 0 0-.147.47c.459.391.749.973.749 1.626 0 1.18-.944 2.131-2.116 2.131A2.12 2.12 0 0 1 1.06 3.16c0-.65.286-1.228.74-1.62a.265.266 0 1 0-.344-.404A2.667 2.667 0 0 0 .53 3.158a2.66 2.66 0 0 0 2.647 2.663 2.657 2.657 0 0 0 2.645-2.663c0-.812-.363-1.542-.936-2.03a.265.266 0 0 0-.17-.066z"
              data-original="#000000"></path>
          </svg>
          Logout
        </li>
      </ul>
  </div> -->

    <!-- Deposit modal -->
    <div id="deposit-modal" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
        <div class="relative p-4 w-full max-w-md max-h-full">
            <!-- Modal content -->
            <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                <!-- Modal header -->
                <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                        Transaction
                    </h3>
                    <button type="button" class="end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="deposit-modal">
                        <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                        </svg>
                        <span class="sr-only">Close modal</span>
                    </button>
                </div>
                <!-- Modal body -->
                <div class="p-4 md:p-5">
                    <form id="deposit-form" class="space-y-4" onsubmit="deposit(event)">
                        <div>
                            <label for="deposit" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Deposit Amount</label>
                            <input type="number" name="deposit" id="deposit" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white" placeholder="Enter Amount" required />
                        </div>
                        <button type="submit" class="w-2/3 mx-auto text-white bg-black hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Deposit</button>
                  
                    </form>
                </div>
            </div>
        </div>
    </div> 
      <!-- Withdraw modal -->
    <div id="withdraw-modal" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
      <div class="relative p-4 w-full max-w-md max-h-full">
          <!-- Modal content -->
          <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
              <!-- Modal header -->
              <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                  <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                      Transaction
                  </h3>
                  <button type="button" class="end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="withdraw-modal">
                      <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                      </svg>
                      <span class="sr-only">Close modal</span>
                  </button>
              </div>
              <!-- Modal body -->
              <div class="p-4 md:p-5">
                  <form id="withdraw-form" class="space-y-4" onsubmit="withdraw(event)" >
                      <div>
                          <label for="withdraw" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Withdraw Amount</label>
                          <input type="number" name="withdraw" id="withdraw" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white" placeholder="Enter Amount" required />
                      </div>
                      <button type="submit" class="w-2/3 mx-auto text-white bg-black hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Withdraw</button>
                
                  </form>
              </div>
          </div>
      </div>
    </div> 
    <!-- pass-change-modal -->
    <div id="pass-change-modal" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full">
      <div class="relative p-4 w-full max-w-md max-h-full">
          <!-- Modal content -->
          <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
              <!-- Modal header -->
              <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                  <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                      Change Your Password
                  </h3>
                  <button type="button" class="end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="pass-change-modal">
                      <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                      </svg>
                      <span class="sr-only">Close modal</span>
                  </button>
              </div>
              <!-- Modal body -->
              <div class="p-4 md:p-5">
                  <form id="password-change-form" onsubmit="changePass(event)" class="space-y-4" action="#">
                      <div>
                          <label for="old_password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Old Password</label>
                          <input type="password" name="old_password" id="old_password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white" placeholder="Enter Old Password" required />

                          <label for="new_password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">New Password</label>
                          <input type="password" name="new_password" id="new_password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white" placeholder="Enter New Password" required />
                      </div>
                      <button type="submit" class="w-2/3 mx-auto text-white bg-black hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Confirm</button>
                
                  </form>
              </div>
          </div>
      </div>
    </div> 
  
        
   <!-- Profile -->
   <div class="flex flex-wrap justify-evenly m-11 gap-6">
        <!-- Profile Part -->
        <div class="min-h-screen flex ">
          <!-- Sidebar -->
          <div class="bg-slate-50 text-gray-700 w-64 py-7 px-5 shadow-lg">
              <nav class="mt-10">
                  <a href="#" data-modal-target="deposit-modal" data-modal-toggle="deposit-modal" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-200">Deposit</a>
                  <a href="#" data-modal-target="withdraw-modal" data-modal-toggle="withdraw-modal" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-200">Withdraw</a>
                  <a href="#" data-modal-target="pass-change-modal" data-modal-toggle="pass-change-modal" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-200">Change Password</a>
                  <a href="./addpost.html" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-200">Add Pet</a>
                  <a href="./dashboard.html" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-200">Adoption History</a>
                  <a type="button" href="#" onclick="handleLogout()"  class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-200">Logout</a>
              </nav>
          </div>

          <!-- Profile Details -->
          <div class="flex-1 bg-white p-8">
          
            <!-- Toast -->
              <div class="w-full mx-auto">
                <div id="error-container" class="fixed top-24 left-1/2 transform -translate-x-1/2 bg-gray-200 shadow-2xl text-gray-800 mx-auto p-4 rounded-md hidden"
                    role="alert">
                    <span id="error" class="text-center font-bold font-mono tracking-wide"></span>
                </div>
              </div>

              <div class="flex justify-between">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 uppercase">Profile Details</h2>
                <div class="flex gap-2 mb-4 me-28 p-3 rounded-2xl bg-orange-100">
                  <p id="p-balance" class="text-black font-bold font-mono text-2xl"></p>
                </div>
              </div>

              <form id="up-profile" onsubmit="updateProfile(event)" enctype="multipart/form-data" class="flex gap-16 bg-gray-100 p-6 rounded-lg shadow-lg">
                <!-- Profile Picture on the left -->
                <div class="flex-shrink-0 m-8 ">
                  <img id="img" src="" alt="" onerror="this.src='https://i.ibb.co.com/80NSbds/dummy-profile.png'" class="rounded-lg shadow-2xl" style="width: 450px;">
                  <input id="curr-p-img" src="" class="hidden" alt="">
                  <div class="my-5">
                    <label for="p-img" class="block mb-2 text-lg font-semibold text-gray-700">Image</label>
                    <div class="relative flex items-center">
                      <i class="fas fa-images absolute left-3 text-gray-400"></i>
                        <input type="file" id="p-img" name="p-img" 
                            class="custom-input w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-300 ease-in-out text-gray-900 placeholder-gray-400">
                    </div>
                  </div>
                </div>
                <!-- Profile Details on the Right -->
                <div class="flex-grow ">
                    <h3 class="font-bold my-5 ">Info</h3>
                    <div class="flex flex-wrap gap-6">
                      <div class="mb-4 w-2/5">
                        <label for="p-first_name" class="block mb-2 text-lg font-semibold text-gray-700">First Name</label>
                        <div class="relative flex items-center">
                            <i class="fas fa-user absolute left-3 text-gray-400"></i>
                            <input type="text" id="p-first_name" name="p-first_name" placeholder="Enter your first name" 
                                class="custom-input w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-300 ease-in-out text-gray-900 placeholder-gray-400">
                        </div>
                      </div>

                      <div class="mb-4 w-2/5">
                        <label for="p-last_name" class="block mb-2 text-lg font-semibold text-gray-700">Last Name</label>
                        <div class="relative flex items-center">
                          <i class="fas fa-user absolute left-3 text-gray-400"></i>
                            <input type="text" id="p-last_name" name="p-last_name" placeholder="Enter your last name" 
                                class="custom-input w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-300 ease-in-out text-gray-900 placeholder-gray-400">
                        </div>
                      </div>

                      <div class="mb-4 w-2/5">
                        <label for="p-username" class="block mb-2 text-lg font-semibold text-gray-700">Username</label>
                        <div class="relative flex items-center">
                          <i class="fas fa-circle-user absolute left-3 text-gray-400"></i>
                            <input type="text" id="p-username" name="p-username" placeholder="Enter your username" 
                                class="custom-input w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-300 ease-in-out text-gray-900 placeholder-gray-400">
                        </div>
                      </div>

                      <div class="mb-4 w-2/5">
                        <label for="p-email" class="block mb-2 text-lg font-semibold text-gray-700">Email</label>
                        <div class="relative flex items-center">
                          <i class="fas fa-envelope absolute left-3 text-gray-400"></i>
                            <input type="email" id="p-email" name="p-email" placeholder="Enter your email" 
                                class="custom-input w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-300 ease-in-out text-gray-900 placeholder-gray-400">
                        </div>
                      </div>

                      <div class="mb-4 w-2/5">
                        <label for="p-phone" class="block mb-2 text-lg font-semibold text-gray-700">Phone</label>
                        <div class="relative flex items-center">
                          <i class="fas fa-phone absolute left-3 text-gray-400"></i>
                            <input type="number" id="p-phone" name="p-phone" placeholder="Enter your phone" 
                                class="custom-input w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-300 ease-in-out text-gray-900 placeholder-gray-400">
                        </div>
                      </div>

                      <div class="mb-4 w-2/5">
                        <label for="p-address" class="block mb-2 text-lg font-semibold text-gray-700">Address</label>
                        <div class="relative flex items-center">
                          <i class="fas fa-map-location-dot absolute left-3 text-gray-400"></i>
                            <input type="text" id="p-address" name="p-address" placeholder="Enter your address" 
                                class="custom-input w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-md focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-300 ease-in-out text-gray-900 placeholder-gray-400">
                        </div>
                      </div>
                      <div>
                        <button type="submit" class="bg-black hover:text-red-600 font-bold px-11 py-3 rounded-full text-gray-300">UPDATE</button>
                        <button class="bg-black hover:text-red-600 font-bold px-11 py-3 mx-5 rounded-full text-gray-300"><a href="./index.html">CANCEL</a></button>
                      </div>
                    </div>

                </div>
              </form>

          </div>
        </div>
        <!-- Right Part -->
        <div class="w-full m-5">
          <div id="available" class="w-full p-5" style="background-color: rgb(250,235,215);">
            <h1 class="text-4xl text-mono text-center font-bold m-5"><span class="pb-3 border-b-4 border-black">Available For Adopt </span> </h1>
            <div id="available-pets" class="my-11 mx-5 flex flex-wrap justify-evenly bg-gray-200 shadow-lg p-5 border border-gray-200 rounded-lg">
                
            </div>
          </div>
          <div id="adopted" class="w-full bg-gray-200 p-5"> 
            <h1 class="text-4xl text-mono text-center font-bold m-2"><span class="pb-3 border-b-4 border-black">Adopted Pets</span></h1>
            <div id="auth-post" class="mt-11 shadow-lg p-5 border rounded-lg" style="background-color: rgb(250,235,215);">
              <div id="my-adoption" class="my-11 mx-5 flex flex-wrap justify-evenly bg-gray-200 shadow-lg p-5 border border-gray-200 rounded-lg">
                
              </div>
            </div>
          </div>
        </div>
   </div>

  <!-- Adoption History -->
  <div class="font-mono overflow-x-auto w-5/6 mx-auto my-11 shadow-2xl rounded-lg">
    <table class="min-w-full bg-teal-200">
      <thead class="bg-gray-800 whitespace-nowrap">
        <tr>
          <th class="p-4 text-left text-sm font-medium text-white">
            ID
          </th>
          <th class="p-4 text-left text-sm font-medium text-white">
            Pet 
          </th>
          <th class="p-4 text-left text-sm font-medium text-white">
            Pet ID
          </th>
          <th class="p-4 text-left text-sm font-medium text-white">
            Time
          </th>
          <th class="p-4 text-left text-sm font-medium text-white">
            Pet Fee
          </th>
          <th class="p-4 text-left text-sm font-medium text-white">
            Update Balance 
          </th>
        </tr>
      </thead>

      <tbody class="whitespace-nowrap" id="tb">
        

      </tbody>
    </table>
    <!-- loader -->
    <div id="nodata" class="nodata m-11"><img class=" mx-auto " src="./images//unnamed.jpeg" alt=""></div>
    <div id="loader">
      <div  class="loader ">
        <div></div> 
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
  <!-- loader -->
  </div>

   <!-- Footer -->
   <div id="footer" class="w-full"></div>
   <!-- Scripts -->
   
   <!-- Scripts -->
   <script src="./navbar.js"></script>
   <script src="./footer.js"></script>
   <script src="./app.js"></script>
   <script src="./auth.js"></script>
   <script src="./profile.js"></script>
   <script src="./petCategory.js"></script>
   <script src="./logout.js"></script>
   <script src="./service.js"></script>
  
   
   

  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flowbite@1.6.5/dist/flowbite.min.js"></script>

            
</body>
</html>


